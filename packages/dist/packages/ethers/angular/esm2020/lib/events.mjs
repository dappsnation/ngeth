import { Observable } from "rxjs";
export function fromEthEvent(provider, zone, event, initial) {
    return new Observable((subscriber) => {
        if (arguments.length === 4)
            zone.run(() => subscriber.next(initial));
        const handler = (...args) => {
            zone.run(() => subscriber.next(1 < args.length ? args : args[0]));
        };
        provider.addListener(event, handler);
        return () => provider.removeListener(event, handler);
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXZlbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vZXRoZXJzL2FuZ3VsYXIvc3JjL2xpYi9ldmVudHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUdsQyxNQUFNLFVBQVUsWUFBWSxDQUMxQixRQUFvQyxFQUNwQyxJQUFZLEVBQ1osS0FBMkIsRUFDM0IsT0FBb0I7SUFFcEIsT0FBTyxJQUFJLFVBQVUsQ0FBSSxDQUFDLFVBQVUsRUFBRSxFQUFFO1FBQ3RDLElBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDO1lBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE9BQWMsQ0FBQyxDQUFDLENBQUM7UUFDNUUsTUFBTSxPQUFPLEdBQUcsQ0FBQyxHQUFHLElBQVcsRUFBRSxFQUFFO1lBQ2pDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BFLENBQUMsQ0FBQztRQUNGLFFBQVEsQ0FBQyxXQUFXLENBQUMsS0FBWSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQzVDLE9BQU8sR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxLQUFZLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDOUQsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdab25lIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IFByb3ZpZGVyLCBFdmVudEZpbHRlciB9IGZyb20gXCJAZXRoZXJzcHJvamVjdC9hYnN0cmFjdC1wcm92aWRlclwiO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gXCJyeGpzXCI7XG5pbXBvcnQgeyBFUkMxMTkzUHJvdmlkZXIgfSBmcm9tIFwiLi9lcmMxMTkzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXRoRXZlbnQ8VD4oXG4gIHByb3ZpZGVyOiBQcm92aWRlciB8IEVSQzExOTNQcm92aWRlcixcbiAgem9uZTogTmdab25lLFxuICBldmVudDogc3RyaW5nIHwgRXZlbnRGaWx0ZXIsXG4gIGluaXRpYWw/OiBQYXJ0aWFsPFQ+XG4pIHtcbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPFQ+KChzdWJzY3JpYmVyKSA9PiB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDQpIHpvbmUucnVuKCgpID0+IHN1YnNjcmliZXIubmV4dChpbml0aWFsIGFzIGFueSkpO1xuICAgIGNvbnN0IGhhbmRsZXIgPSAoLi4uYXJnczogYW55W10pID0+IHtcbiAgICAgIHpvbmUucnVuKCgpID0+IHN1YnNjcmliZXIubmV4dCgxIDwgYXJncy5sZW5ndGggPyBhcmdzIDogYXJnc1swXSkpO1xuICAgIH07XG4gICAgcHJvdmlkZXIuYWRkTGlzdGVuZXIoZXZlbnQgYXMgYW55LCBoYW5kbGVyKTtcbiAgICByZXR1cm4gKCkgPT4gcHJvdmlkZXIucmVtb3ZlTGlzdGVuZXIoZXZlbnQgYXMgYW55LCBoYW5kbGVyKTtcbiAgfSk7XG59Il19